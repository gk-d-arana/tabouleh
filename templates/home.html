{% extends "base.html" %}
{% load static %}

{% block content %}


{% block stlye %}
  
<style>
  .d1, .d2, .d3{
    display: flex;
    flex-wrap: nowrap;
  }
  
  @media(min-width:1000px) and (max-width:1300px){
    .d1, .d2, .d3{
      display: flex;
      flex-wrap: wrap;
    }
  } 
  @media(max-width:1000px) {
    .d1 ,.d2, .d3{
      display: block;
    }
    .flow-card{
      overflow-y: scroll;
    }
    .latest-products-card .card-header, .offers-card .card-header, .recent-orders-card  .card-header{
      display: none;
    }
  }
</style>

{% endblock stlye %}
  




<div class="home-main-wrapper">
<h1>Dashboard</h1>
<p style="color: gray;">Welcome Back, {{ request.user.username }}</p>
  <div class="d1 justify-content-between">
      <div class="col-xl-3 col-sm-12 col-md-12 col-lg-5 mx-1 card-wrapper">
        <p style="color: gray;">Users</p>
    <div class="card">
        <div class="d-flex justify-content-center">
            <img src="{% static 'images/Group 502@2x.png' %}" class=" overview-cards-home" alt="...">
        </div>
        <div class="card-body d-flex">
            <div class="col-3">
                <h5>
                    Total Users
                </h5>
                <p class="p1">1200</p>
            </div>
            <div class="col-6">
                <h5>
                    Social Media Users
                </h5>
                <p class="p1">
                    324
                </p>
            </div>
            <div class="col-3">
                <h5>
                    Online Users
                </h5>
                <p class="p1">
                    32
                </p>
            </div>
        </div>

    </div>
</div>
    <div class="col-xl-3 col-sm-12 col-md-12 col-lg-5 mx-1">
        <p style="color: gray;">Orders</p>

        <div class="card ">
            <div class="d-flex justify-content-center">
                <img src="{% static 'images/orders.png' %}" class=" overview-cards-home" alt="...">
            </div>
            <div class="card-body d-flex justify-content-center">
                <div class="col-5">
                    <h5>
                        Total Orders
                    </h5>
                    <p class="p2">1200</p>
                </div>
                <div class="col-5">
                    <h5>
                        Daily Orders
                    </h5>
                    <p class="p2">
                        32
                    </p>
                </div>
            </div>
    
        </div>
    </div>

   
   
    <div class="col-xl-3 col-sm-12 col-md-12 col-lg-5 mx-1">
        <p style="color: gray;">Employee</p>
        <div class="card">
            <div class="d-flex justify-content-center">
                <img src="{% static 'images/deliv.png' %}" class=" overview-cards-home" alt="...">
            </div>
            <div class="card-body d-flex justify-content-center">
                <div class="col-5">
                    <h5>
                        Offline
                    </h5>
                    <p class="p3">1200</p>
                </div>
                <div class="col-5">
                    <h5>
                        Online
                    </h5>
                    <p class="p3">
                        32
                    </p>
                </div>
            </div>
    
        </div>
    </div>
   
   
    <div class="col-xl-3 col-sm-12 col-md-12 col-lg-5 mx-1">
        <p style="color: gray;">Total Income</p>
        <div class="card">
        
        
            <div class="d-flex justify-content-center">
                <img src="{% static 'images/payment.png' %}" class=" overview-cards-home" alt="...">
            </div>
            <div class="card-body d-flex">
                <div class="col-3">
                    <h5>
                        Cash
                    </h5>
                    <p>1200</p>
                </div>
                <div class="col-3">
                    <h5>
                        Visa
                    </h5>
                    <p>
                        324
                    </p>
                </div>
                <div class="col-3">
                    <h5>
                        Master Card
                    </h5>
                    <p>
                        32
                    </p>
                </div>
                <div class="col-3">
                    <h5>
                        Zein Cash
                    </h5>
                    <p>
                        324
                    </p>
                </div>
            </div>
    
       
       
        </div>   
    </div>
 
  

</div>

<div class="container my-5 d2">
    <div style="padding-bottom: .7rem;" class="col-xl-3 me-xl-4 col-sm-12 col-md-12 col-lg-6 my-3 card h-100">
            <div class="card-body">
              <h4 class="d-flex justify-content-between align-items-center">Top Products <span style="font-size:.85rem;color:#719BFF;cursor:pointer;" class="show-all-top-products">Show All</span></h4>
                <div class="products">

                  {% for meal_object in meals %}


                  <div class="p-{{meal_object.meal.meal_id}} d-flex">
                    <div class="col-4 me-1 h100 justify-content-center align-items-center"><img class="w-100" src='/{{meal_object.meal.meal_main_image}}'></div>

                    <div class="col-8 h-100 text-center">
                        <h4>{{meal_object.meal.meal_name}}</h4>
                        
                        {% if meal_object.meal.meal_rating == 0  %}                          
                        <span class="w-100">
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}
                          
                        {% if meal_object.meal.meal_rating > 0 and meal_object.meal.meal_rating <= 0.5  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}


                        {% if meal_object.meal.meal_rating > 0.5 and meal_object.meal.meal_rating < 1  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}
                          
                        {% if meal_object.meal.meal_rating > 1 and meal_object.meal.meal_rating <= 1.5  %}                          
                        <span class="w-100">
                          <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                          <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}

                        {% if meal_object.meal.meal_rating > 1.5 and meal_object.meal.meal_rating <= 2  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}
                          
                        {% if meal_object.meal.meal_rating > 2 and meal_object.meal.meal_rating <= 2.5  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}


                        {% if meal_object.meal.meal_rating > 2.5 and meal_object.meal.meal_rating <= 3  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}
                          
                        {% if meal_object.meal.meal_rating > 3 and meal_object.meal.meal_rating <= 3.5  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}

                        {% if meal_object.meal.meal_rating > 3.5 and meal_object.meal.meal_rating <= 4  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}

                        {% if meal_object.meal.meal_rating > 4 and meal_object.meal.meal_rating <= 4.85  %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}     

                        {% if meal_object.meal.meal_rating > 4.85 %}                          
                        <span class="w-100">
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
                        </span>
                        {% endif %}


                        
                        <p>Ordered {{meal_object.meal.meal_order_times}} Times</p>
                    </div>
               </div>
                  {% endfor %}
              

                </div>
            </div>

    </div>
    
    
    <div class="col-xl-9 col-sm-12 col-md-12 col-lg-6 my-3 flow-card card h-100">
        <div class="card-body">
          <h4 class="d-flex justify-content-start align-items-center">Recent Users</h4>
          <table class="table">
              <thead>
                <tr>
                  <th scope="col"></th>
                  <th scope="col">User Name</th>
                  <th scope="col">Phone</th>
                  <th scope="col">Country</th>
                  <th scope="col">Email</th>
                  <th scope="col">Date</th>
                </tr>
              </thead>

              <tbody>
                {% for customer in customers  %}
                            
                    <tr class="user-{{customer.customer_id}}">
                      <th style="width: 30px;"><img width="75" style="border-radius: 20px;" src="/{{customer.profile_image}}"></th>
                      <td>{{customer.user.username}}</td>
                      <td>{{customer.phone_number}}</td>
                      <td>{{customer.country.name}}</td>
                      <td>{{customer.user.email}}</td>
                      <td>{{customer.created_at}}</td>
                    </tr>

                {% endfor %}


              </tbody>
            </table>
          
        </div>
</div>
</div>


<div class="container my-5 d3">
    <div style="padding-bottom: .7rem;" class="col-xl-3 col-sm-12 col-md-12 my-4 col-lg-5 me-xl-4 xe-lg-3 card h-100">
            <div class="card-body">
              <h4 class="d-flex justify-content-between align-items-center">Top Offers <span style="font-size:.85rem;color:#719BFF;cursor:pointer;"  class="show-all-offers">Show All</span></h4>
                <div class="offers">
                  
  {% for offer in offers %}

  <div class="o-{{offer.offer_id}} d-flex">
     
    <div class="col-4 me-1 h-100 justify-content-center align-items-center">
      <img class="w-100 mx-3" src="/{{offer.offer_image}}">
    </div>
    <div class="col-8 h-100 text-center">
         <h4>{{offer.meal.meal_name}}</h4>

         <span>{{offer.offer_name}}</span>
     </div>
  </div>

  {% endfor %}
                    
                </div>
            </div>

    </div>
    
    <div style="padding-bottom: .7rem;" class="col-xl-3 col-sm-12 col-md-12 my-4 col-lg-5 me-xl-4 xe-lg-3 card h-100">
        <div class="card-body">
          <h4 class="d-flex justify-content-start align-items-center">Recent Reviews </h4>
            <div class="products">
              {% for rating in ratings %}
    
    <div class="r-{{rating.rating_id}} d-flex">
      <div class="col-3 h-100"><img class="w-100" style="border-radius: 50%;height:4rem;" src="/{{rating.customer.profile_image}}"></div>
      <div class="col-8 h-100 mx-3">
          <h4>{{rating.customer.user.username}}</h4>
          {% if rating.rating_value >= 0 and rating.rating_value <= 0.5  %}                          
          <span class="w-100">
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}
            
          {% if rating.rating_value >= 0.5 and rating.rating_value < 1  %}                          
          <span class="w-100">
              <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}


          {% if rating.rating_value >= 1 and rating.rating_value < 1.5  %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}
            
          {% if rating.rating_value >= 1.5 and rating.rating_value < 2  %}                          
          <span class="w-100">
            <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
            <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}

          {% if rating.rating_value >= 2 and rating.rating_value < 2.5  %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}
            
          {% if rating.rating_value >= 2.5 and rating.rating_value < 3  %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}


          {% if rating.rating_value >= 3 and rating.rating_value < 3.5  %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}
            
          {% if rating.rating_value >= 3.5 and rating.rating_value < 4  %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bx-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}
          {% if rating.rating_value >= 4.5 and rating.rating_value < 5  %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star-half' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}
            
          {% if rating.rating_value >= 5 %}                          
          <span class="w-100">
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
              <i class='bx bxs-star' style="color: #F86161;font-size:1.4rem"></i>
          </span>
          {% endif %}

          <br>
          <span>{{rating.rating_content}}</span>
      </div>
 </div>
{% endfor %}


            </div>
        </div>

</div>
    <div class="col-xl-6 col-sm-12 col-md-12 col-lg-12 my-4 h-100 ">
        <div class="card card-body flow-card">
          <h4 class="d-flex justify-content-between align-items-center">
         <span>
           <i style="color: #01CB63;" class="bx bxs-user"></i> 
           Recent Orders
         </span>   
              <span style="font-size:.85rem;color:#719BFF;cursor:pointer;" class="show-all-recent-orders">Show All</span>

            </h4>
          <table class="table" style="text-align: center;">
            <thead>
              <tr>
                <th scope="col">Order</th>
                <th scope="col">Location</th>
                <th scope="col">Status</th>
                <th scope="col">Emnployee Name</th>
              </tr>
            </thead>
            <tbody>
              
              {% for order in orders %}
              <tr class="o-{{order.id}}">
                <th scope="row">
                  {% for cart_item in order.cart_items.all %}
                    {{cart_item.meal.meal_name}},
                  {% endfor %}
                  
                </th>
                <td>{{order.delivery.location}}</td>
                <td>
                  
                  {% if order.delivery.is_delivered  %}
                    <span style="color: #01CB63;">Delivered</span>
                  
                  {% else %}

                  <span style="color:#FFB340">Pending</span>
                  {% endif %}
                    


                </td>
                <td>{{order.delivery.delivery_operator.user.username}}</td>
              </tr>

              {% endfor %}
                
              

            </tbody>
          </table>
        </div>
        <div class="card card-body mt-5">
            <h4>About Us</h4>

        </div>
</div>
</div>

</div>





<div class="offers-div hidden">
    <h1>Offers</h1>
    <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
        <ol class="breadcrumb naviation-breadcrumb-ol">
          <li class="breadcrumb-item to-dash" style="cursor: pointer;">Dashboard</li>  
          <li class="breadcrumb-item"></li>  
          <li class="breadcrumb-item active to-offers-from-add-offer" style="cursor: pointer;"> All Offers</li>
    
        </ol>
      </nav>
    <div class="offers-card">
    <div class="card w-100 mb-3 flow-card">
        <div class="card-header">All Offers</div>
        <div class="card-body products-table-card">
          <table class="table">
    
            <tbody class="offers-table-body">
              {% for offer in offers %}  
              <tr class="offer-tr-{{offer.offer_id}}">
                <th style="width: 30px;"><img width="80" src="/{{offer.offer_image}}"></th>
                <td>{{offer.offer_name}}</td>
                <td>{{offer.normal_customer_offer_description}}</td>
                <td>
                          <div class="col-12 d-flex justify-content-between">
                            <div class="col-2 text-center">
                              <h6>Normal Customer</h6>
                              <p>{{offer.normal_customer_offer_price}}$</p>
                            </div>
                            <div class="col-3 text-center">
                              <h6>Super Market Customer</h6>
                              <p>{{offer.supermarket_customer_offer_price}}$</p>
                            </div>
                            <div class="col-2 text-center">
                              <h6>Agent Customer</h6>
                              <p>{{offer.agent_customer_offer_price}}$</p>
                            </div>
                            <div class="col-2 text-center">
                              <h6>Company Customer</h6>
                              <p>{{offer.agent_customer_offer_price}}$</p>
                            </div>
                            <div class="col-2 text-center">
                              <h6>Restaurant Customer</h6>
                              <p>{{offer.restuarant_customer_offer_price}}$</p>
                            </div>
                          </div>
                </td>
              </tr>
              {% endfor %}

            </tbody>
          </table>
        
        </div>
      </div>
      <div class="d-flex justify-content-center w-100">
        <a class="btn btn-primary add-offer-btn px-5 mb-3" href="#" style="background-color: #F86161;color:#fff;border:none;border-radius:20px">Add Offer</a>
      </div>
    </div>

    <div class="add-offer-div hidden">
      <form class="addOffer">{% csrf_token %}</form>
        <table class="table table-striped">
            <tbody>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Offer Name</div>
                  <div class="col-8">
                      <input type="text" class="form-control offer_name">
                </div>  
                </th>
              </tr>

              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Arabic Offer Name</div>
                  <div class="col-8">
                      <input type="text" class="form-control offer_name_ar">
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Meal</div>
                  <div class="col-8">
                    <select class="form-select offer_meal" aria-label="Offer Meal select">
                      <option hidden selected>Select A Meal</option>
                      
                      {% for meal in all_meals %}                        
                      <option value="{{meal.meal_id}}">{{meal.meal_name}}</option>
                      {% endfor %}
                        

                    </select>                
                  </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Normal Customer Offer Description</div>
                  <div class="col-8">
                    <textarea class="normal_customer_offer_description" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Super Market Offer Description</div>
                  <div class="col-8">
                    <textarea class="supermarket_customer_offer_description" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Agent Offer Description</div>
                  <div class="col-8">
                    <textarea class="agent_customer_offer_description" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Company Offer Description</div>
                  <div class="col-8">
                    <textarea class="company_customer_offer_description" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Restuarant Offer Description</div>
                  <div class="col-8">
                    <textarea class="restuarant_customer_offer_description" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Normal Customer Offer Description Arabic</div>
                  <div class="col-8">
                    <textarea class="normal_customer_offer_description_ar" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Super Market Offer Description Arabic</div>
                  <div class="col-8">
                    <textarea class="supermarket_customer_offer_description_ar" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Agent Offer Description Arabic</div>
                  <div class="col-8">
                    <textarea class="agent_customer_offer_description_ar" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Company Offer Description Arabic</div>
                  <div class="col-8">
                    <textarea class="company_customer_offer_description_ar" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Restuarant Offer Description Arabic</div>
                  <div class="col-8">
                    <textarea class="restuarant_customer_offer_description_ar" name="offer_name" id="offer_name" cols="80" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Price</div>
                  <div class="col-8 d-flex">
                    <div class="col-2 mx-2 text-center">
                      <h6>Normal Customer</h6>
                    <input type="text" class="form-control offer_normal_customer_price" name="offer_normalCustomer_price">

                    </div>
                    <div class="col-2 mx-2 text-center">
                      <h6>Agent Customer</h6>
                    <input type="text" class="form-control offer_agent_customer_price">

                    </div>
                    <div class="col-3 mx-2 text-center">
                      <h6>Super Market Customer</h6>
                    <input type="text" class="form-control offer_supermarket_customer_price">

                    </div>
                    <div class="col-2 mx-2 text-center">
                      <h6>Company Customer</h6>
                    <input type="text" class="form-control offer_company_customer_price">

                    </div>
                    <div class="col-3 mx-2 text-center">
                      <h6>Restuarant Customer</h6>
                    <input type="text" class="form-control offer_restuarant_customer_price">

                    </div>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Offer Image</div>
                  <div class="col-8">
                      <input type="file" class="form-control offer_image">
                </div>  
                </th>
              </tr>
            </tbody>
        </table>
        
        <div class="d-flex justify-content-center">
          <button class="btn btn-primary submit-create-offer px-5 mb-3" style="background-color: #F86161;color:#fff;border:none;border-radius:20px">Done</button>
        </div>



    </div>

</div>



<div class="latest-products-div hidden">
    <h1>Products</h1>
    <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
        <ol class="breadcrumb naviation-breadcrumb-ol">
          <li class="breadcrumb-item to-dash" style="cursor: pointer;">Dashboard</li>  
          <li class="breadcrumb-item"></li>  
          <li class="breadcrumb-item active to-products-from-add-product" style="cursor: pointer;"> Latest Products</li>

        </ol>
      </nav>
    <div class="latest-products-card">
    <div class="card w-100 mb-3 flow-card">
        <div class="card-header ">Latest Products</div>
        <div class="card-body products-table-card">
          <table class="table text-center">
            <thead>
                <th></th>
                <th>Product Name</th>
                <th>Category</th>
                <th>Price</th>
                <th>Times Ordered</th>
                <th>Offers</th>

            </thead>
            <tbody class="meal_tables ">
              
              {% for meal_object in meals %}                
              <tr class="product-table-body-{{meal_object.meal.meal_id}}">
                <th style="width: 30px;"><img width="80" src="/{{meal_object.meal.meal_main_image}}"></th>
                <td>{{meal_object.meal.meal_name}}</td>
                <td>{{meal_object.meal.meal_category.category_name}}</td>
                <td>
                  <div class="col-12 d-flex justify-content-between">
                    <div class="col-2 text-center">
                      <h6>Normal Customer</h6>
                      <p> {{meal_object.meal.customer_meal_price}}$</p>
                    </div>
                    <div class="col-3 text-center">
                      <h6>Super Market Customer</h6>
                      <p> {{meal_object.meal.supermarket_meal_price}}$</p>
                    </div>
                    <div class="col-2 text-center">
                      <h6>Agent Customer</h6>
                      <p> {{meal_object.meal.agent_meal_price}}$</p>
                    </div>
                    <div class="col-2 text-center">
                      <h6>Company Customer</h6>
                      <p> {{meal_object.meal.company_meal_price}}$</p>
                    </div>
                    <div class="col-2 text-center">
                      <h6>Restaurant Customer</h6>
                      <p> {{meal_object.meal.restaurant_meal_price}}$</p>
                    </div>
                  </div>
        </td>
                <td>
                    {{meal_object.meal.meal_order_times}}
                </td>
                <td>
                    
                    {% for offer in offers %}
                      {% if offer.meal.meal_id == meal_object.meal.meal_id %}
                        {{offer.offer_name}},
                      {% endif %}
                    {% endfor %}
                      
                </td>
              </tr>
              {% endfor %}
                
            </tbody>
          </table>
        
        </div>
      </div>
      <div class="d-flex justify-content-center w-100">
        <a class="btn btn-primary add-product-btn px-5 mb-3" href="#" style="background-color: #F86161;color:#fff;border:none;border-radius:20px">Add Product</a>
      </div>
    </div>

    <div class="add-product-div hidden">
      <form class="addMeal">{% csrf_token %}</form>
        <table class="table table-striped">
            <tbody>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Meal Name</div>
                  <div class="col-8">
                      <input type="text" class="form-control meal_name">
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Arabic Meal Name</div>
                  <div class="col-8">
                      <input type="text" class="form-control meal_name_ar">
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Meal Description</div>
                  <div class="col-8">
                    <textarea class="w-100 meal_description" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Arabic Meal Description</div>
                  <div class="col-8">
                    <textarea class="w-100 meal_description_ar" rows="10"></textarea>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Category</div>
                  <div class="col-8">
                    <select class="form-select meal_category" aria-label="Offer Meal select">
                      <option hidden selected>Select A Category</option>
                      
                      {% for category in all_categories %}                        
                      <option value="{{category.category_id}}">{{category.category_name}}</option>
                      {% endfor %}
                        

                    </select>                
                  </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Ingredients</div>
                  <div class="col-8  ingredients-div">
                    <div class="w-100 d-flex align-items-center">
                      <input type="text" class="form-control product_ingredient mx-2"> <span class="add-ingre btn text-white pb-2" style="background-color: #01CB63;">+</span>
                    </div>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th scope="row" class="d-flex align-items-center">
                  <div class="col-3 th-product">Price</div>
                  <div class="col-8 d-flex">
                    <div class="col-2 mx-2 text-center">
                      <h6>Normal Customer</h6>
                    <input type="text" class="form-control customer_meal_price">

                    </div>
                    <div class="col-3 mx-2 text-center">
                      <h6>Super Market Customer</h6>
                    <input type="text" class="form-control supermarket_meal_price">

                    </div>
                    <div class="col-2 mx-2 text-center">
                      <h6>Company Customer</h6>
                    <input type="text" class="form-control company_meal_price">

                    </div>
                    <div class="col-2 mx-2 text-center">
                      <h6>Agent Customer</h6>
                    <input type="text" class="form-control agent_meal_price">

                    </div>
                    <div class="col-3 mx-2 text-center">
                      <h6>Restuarant Customer</h6>
                    <input type="text" class="form-control restuarant_meal_price">

                    </div>
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Points</div>
                  <div class="col-8">
                      <input type="number" class="form-control meal_points" >
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Meal Main Image</div>
                  <div class="col-8">
                      <input type="file" multiple class="form-control meal_main_image">
                </div>  
                </th>
              </tr>
              <tr class="w-100">
                <th width="100%" class="d-flex align-items-center">
                  <div class="col-3 th-product">Meal Images</div>
                  <div class="col-8">
                      <input type="file" multiple class="form-control meal_images">
                </div>  
                </th>
              </tr>
            </tbody>
        </table>
        <div class="w-100 d-flex justify-content-center">
          <button class="btn btn-primary submit-create-meal px-5 mb-3" style="background-color: #F86161;color:#fff;border:none;border-radius:20px">Done</button>
    </div>

    </div>

</div>



<div class="recent-orders-div hidden">
  <h1>Orders</h1>
  <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
      <ol class="breadcrumb naviation-breadcrumb-ol">
        <li class="breadcrumb-item to-dash" style="cursor: pointer;">Dashboard</li>  
        <li class="breadcrumb-item"></li>  
        <li class="breadcrumb-item active"> Recent Orders </li>
  
      </ol>
    </nav>
  <div class="recent-orders-card">
  <div class="card w-100 mb-3  flow-card">
      <div class="card-header">Recent Orders</div>
      <div class="card-body products-table-card">
        <table class="table text-center">
          <thead>
              <th></th>
              <th>Order Items</th>
              <th>Date</th>
              <th>Price</th>
              <th>User Name</th>
              <th>Location</th>
              <th>Employee Name</th>
              <th>Status</th>

          </thead>
          <tbody >
            {% for order in orders %}                  
            <tr>
              {% with order.cart_items.all|first as a %}
              <th style="width: 30px;"><img width="80"  src="/{{a.meal.meal_main_image}}"></th>
              {% endwith %}
              <td>
                
                
                {% for cart_item in order.cart_items.all %}
                  {{cart_item.meal.meal_name}},
                {% endfor %}
                  
            
              </td>
              <td>
                  {{order.created_at}}
              </td>
                            <td>{{order.bill}}</td>

                <td>{{order.cart.cart_owner.user.username}}</td>
              
                <td>
                  {{order.order_address.area_name}}
                </td>
                <td>
                  
                  {% if order.delivery.delivery_operator %}
                  {{order.delivery.delivery_operator.user.username}}
                  {% else %}
                  Not Delivered Yet
                  {% endif %}
                    
                </td>
            <td>
              {% if order.delivery.is_delivered  %}
              <a href="#" class="btn mt-2 p-2" style="background-color: #01CB63;;color:#fff">Delivered</span>
            
            {% else %}

            <a href="#" class="btn p-2" style="background-color:#FFB340;color:#fff">Pending</a>
            {% endif %}
          </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      
      </div>
    </div>

  </div>



</div>


{% endblock content %}


{% block scripts %}
<script src="{% static 'js/main.js' %}"></script>
{% endblock scripts %}